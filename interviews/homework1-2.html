<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>作业：1-2，ES新特性与TypeScript、JS性能优化 | Baizixv Bookmarks</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/bookmarks/favicon.ico">
    <script>  
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?27487eee16f52d12664f13d868c1d22f";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="生有涯而知无涯，懂得取舍才是学习之道">
    <link rel="preload" href="/bookmarks/assets/css/0.styles.ba6ba3c1.css" as="style"><link rel="preload" href="/bookmarks/assets/js/app.42590932.js" as="script"><link rel="preload" href="/bookmarks/assets/js/2.4e2da616.js" as="script"><link rel="preload" href="/bookmarks/assets/js/8.620124d2.js" as="script"><link rel="prefetch" href="/bookmarks/assets/js/10.ead8829f.js"><link rel="prefetch" href="/bookmarks/assets/js/11.661dc9df.js"><link rel="prefetch" href="/bookmarks/assets/js/12.be37c2e4.js"><link rel="prefetch" href="/bookmarks/assets/js/13.88a8e6a1.js"><link rel="prefetch" href="/bookmarks/assets/js/14.75fc4b10.js"><link rel="prefetch" href="/bookmarks/assets/js/15.cd82c552.js"><link rel="prefetch" href="/bookmarks/assets/js/16.87c27739.js"><link rel="prefetch" href="/bookmarks/assets/js/17.b56eddbc.js"><link rel="prefetch" href="/bookmarks/assets/js/18.e8d6359d.js"><link rel="prefetch" href="/bookmarks/assets/js/19.41df496d.js"><link rel="prefetch" href="/bookmarks/assets/js/20.e243b1af.js"><link rel="prefetch" href="/bookmarks/assets/js/21.f917245e.js"><link rel="prefetch" href="/bookmarks/assets/js/22.58497703.js"><link rel="prefetch" href="/bookmarks/assets/js/23.89882fef.js"><link rel="prefetch" href="/bookmarks/assets/js/24.699479b5.js"><link rel="prefetch" href="/bookmarks/assets/js/25.8094fca6.js"><link rel="prefetch" href="/bookmarks/assets/js/26.2e276a65.js"><link rel="prefetch" href="/bookmarks/assets/js/27.e532aadd.js"><link rel="prefetch" href="/bookmarks/assets/js/28.5a07b386.js"><link rel="prefetch" href="/bookmarks/assets/js/29.a65fb2c9.js"><link rel="prefetch" href="/bookmarks/assets/js/3.4885670b.js"><link rel="prefetch" href="/bookmarks/assets/js/30.40115280.js"><link rel="prefetch" href="/bookmarks/assets/js/31.1b28f834.js"><link rel="prefetch" href="/bookmarks/assets/js/32.ffb82012.js"><link rel="prefetch" href="/bookmarks/assets/js/33.a68733d5.js"><link rel="prefetch" href="/bookmarks/assets/js/4.d1278acb.js"><link rel="prefetch" href="/bookmarks/assets/js/5.d1252152.js"><link rel="prefetch" href="/bookmarks/assets/js/6.b3dd1349.js"><link rel="prefetch" href="/bookmarks/assets/js/7.5b5fda80.js"><link rel="prefetch" href="/bookmarks/assets/js/9.2c27ccbe.js">
    <link rel="stylesheet" href="/bookmarks/assets/css/0.styles.ba6ba3c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bookmarks/" class="home-link router-link-active"><!----> <span class="site-name">Baizixv Bookmarks</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bookmarks/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/bookmarks/apiWebsite/" class="nav-link">
  API网站
</a></div><div class="nav-item"><a href="/bookmarks/website/" class="nav-link">
  实用网站
</a></div><div class="nav-item"><a href="/bookmarks/librarys/" class="nav-link">
  常用库与插件
</a></div><div class="nav-item"><a href="/bookmarks/tools/" class="nav-link">
  常用工具
</a></div><div class="nav-item"><a href="/bookmarks/teachbooks/" class="nav-link">
  教程与书籍
</a></div><div class="nav-item"><a href="/bookmarks/article/" class="nav-link">
  文章收集
</a></div><div class="nav-item"><a href="/bookmarks/resources/" class="nav-link">
  资源网站
</a></div><div class="nav-item"><a href="/bookmarks/links/" class="nav-link">
  友情链接
</a></div><div class="nav-item"><a href="/bookmarks/personal/" class="nav-link">
  个人相关
</a></div> <a href="https://github.com/baizixv/bookmarks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bookmarks/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/bookmarks/apiWebsite/" class="nav-link">
  API网站
</a></div><div class="nav-item"><a href="/bookmarks/website/" class="nav-link">
  实用网站
</a></div><div class="nav-item"><a href="/bookmarks/librarys/" class="nav-link">
  常用库与插件
</a></div><div class="nav-item"><a href="/bookmarks/tools/" class="nav-link">
  常用工具
</a></div><div class="nav-item"><a href="/bookmarks/teachbooks/" class="nav-link">
  教程与书籍
</a></div><div class="nav-item"><a href="/bookmarks/article/" class="nav-link">
  文章收集
</a></div><div class="nav-item"><a href="/bookmarks/resources/" class="nav-link">
  资源网站
</a></div><div class="nav-item"><a href="/bookmarks/links/" class="nav-link">
  友情链接
</a></div><div class="nav-item"><a href="/bookmarks/personal/" class="nav-link">
  个人相关
</a></div> <a href="https://github.com/baizixv/bookmarks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>拉勾每日面试题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bookmarks/interviews/20200714面试题.html" class="sidebar-link">面试题：20200714</a></li><li><a href="/bookmarks/interviews/20200715面试题.html" class="sidebar-link">面试题：20200715</a></li><li><a href="/bookmarks/interviews/20200716面试题.html" class="sidebar-link">面试题：20200716</a></li><li><a href="/bookmarks/interviews/20200717面试题.html" class="sidebar-link">面试题：20200717</a></li><li><a href="/bookmarks/interviews/20200718面试题.html" class="sidebar-link">面试题：20200718</a></li><li><a href="/bookmarks/interviews/20200720面试题.html" class="sidebar-link">面试题：20200720</a></li><li><a href="/bookmarks/interviews/20200721面试题.html" class="sidebar-link">面试题：20200721</a></li><li><a href="/bookmarks/interviews/20200724面试题.html" class="sidebar-link">面试题：20200724</a></li><li><a href="/bookmarks/interviews/20200730直播课.html" class="sidebar-link">直播课：20200730</a></li><li><a href="/bookmarks/interviews/20200810直播课.html" class="sidebar-link">直播课：20200810</a></li><li><a href="/bookmarks/interviews/20200810问题收集.html" class="sidebar-link">直播课：20200810-问题收集</a></li><li><a href="/bookmarks/interviews/20200819直播课.html" class="sidebar-link">直播课：20200819</a></li><li><a href="/bookmarks/interviews/" aria-current="page" class="sidebar-link">README</a></li><li><a href="/bookmarks/interviews/homework1-1-1.html" class="sidebar-link">作业：1-1，JS异步编程</a></li><li><a href="/bookmarks/interviews/homework1-1-2.html" class="sidebar-link">作业：1-1，手写Promise源码</a></li><li><a href="/bookmarks/interviews/homework1-2.html" aria-current="page" class="active sidebar-link">作业：1-2，ES新特性与TypeScript、JS性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#简答题" class="sidebar-link">简答题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#一、请说出下列最终的执行结果，并解释为什么。" class="sidebar-link">一、请说出下列最终的执行结果，并解释为什么。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#二、请说出下列最终的执行结果，并解释为什么。" class="sidebar-link">二、请说出下列最终的执行结果，并解释为什么。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#三、结合es6新语法，用最简单的方式找出数组中的最小值" class="sidebar-link">三、结合ES6新语法，用最简单的方式找出数组中的最小值</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#四、请详细说明var，let，const三种声明变量的方式之间的具体差别。" class="sidebar-link">四、请详细说明var，let，const三种声明变量的方式之间的具体差别。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#五、请说出下列代码最终输出的结果，并解释为什么。" class="sidebar-link">五、请说出下列代码最终输出的结果，并解释为什么。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#六、简述symbol类型的用途。" class="sidebar-link">六、简述Symbol类型的用途。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#七、说说什么是浅拷贝，什么是深拷贝？" class="sidebar-link">七、说说什么是浅拷贝，什么是深拷贝？</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#八、请简述typescript与javascript之间的关系。" class="sidebar-link">八、请简述TypeScript与JavaScript之间的关系。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#九、请谈谈你所认为的typescript优缺点。" class="sidebar-link">九、请谈谈你所认为的TypeScript优缺点。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#十、描述引用计数的工作原理和优缺点。" class="sidebar-link">十、描述引用计数的工作原理和优缺点。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#十一、描述标记整理算法的工作流程。" class="sidebar-link">十一、描述标记整理算法的工作流程。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#十二、描述v8中新生代存储区垃圾回收的流程。" class="sidebar-link">十二、描述V8中新生代存储区垃圾回收的流程。</a></li><li class="sidebar-sub-header"><a href="/bookmarks/interviews/homework1-2.html#十三、描述增量标记算法在何时使用及工作原理。" class="sidebar-link">十三、描述增量标记算法在何时使用及工作原理。</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="作业：1-2，es新特性与typescript、js性能优化"><a href="#作业：1-2，es新特性与typescript、js性能优化" class="header-anchor">#</a> 作业：1-2，ES新特性与TypeScript、JS性能优化</h1> <h2 id="简答题"><a href="#简答题" class="header-anchor">#</a> 简答题</h2> <h3 id="一、请说出下列最终的执行结果，并解释为什么。"><a href="#一、请说出下列最终的执行结果，并解释为什么。" class="header-anchor">#</a> 一、请说出下列最终的执行结果，并解释为什么。</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  a<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><em><strong>解答如下</strong></em>:</p> <p>输出10，循环执行的过程，给数组a每个位置均定义了一个函数，每个函数各自独立，但功能一模一样。
for循环条件语句内定义的变量i，实质上是全局作用域内的变量，因此循环提结束运行后，变量i值变为10.</p> <p>当 <code>a[6]()</code> 执行的时候，实际上执行了函数<code>function() {console.log(i)}</code>,执行的过程中，在函数作用域内没有发现变量i，继续向上一级也就是全局作用域查找，发现i，此时i经过循环，现值为10，因此最终打印出10。</p> <h3 id="二、请说出下列最终的执行结果，并解释为什么。"><a href="#二、请说出下列最终的执行结果，并解释为什么。" class="header-anchor">#</a> 二、请说出下列最终的执行结果，并解释为什么。</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">123</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
    <span class="token keyword">let</span> tmp
  <span class="token punctuation">}</span>
</code></pre></div><p><em><strong>解答如下</strong></em>:</p> <p>报出引用错误，在初始化之前不能访问 'tmp'。</p> <p>因为在if语句块中定义了局部变量<code>let tmp</code>， 因此该语句块内部（{}），从开始到，声明<code>let tmp</code>处，
对于变量<code>tmp</code>，会形成<code>暂时性死区</code>，无法访问tmp，因而报错。</p> <p>ES6明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。</p> <h3 id="三、结合es6新语法，用最简单的方式找出数组中的最小值"><a href="#三、结合es6新语法，用最简单的方式找出数组中的最小值" class="header-anchor">#</a> 三、结合ES6新语法，用最简单的方式找出数组中的最小值</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre></div><p><em><strong>解答如下</strong></em>:</p> <p>首先，无论如何，数组都至少遍历一遍，是个O(n)的算法。那就是找形式上看起来最简便的方法，如下：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>  <span class="token comment">// 书写形式最简便的：</span>
  <span class="token keyword">const</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>

  <span class="token comment">// 其他的手动遍历的：</span>
  <span class="token keyword">const</span> min2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">&lt;</span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">)</span>

  <span class="token keyword">const</span> min3 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="四、请详细说明var，let，const三种声明变量的方式之间的具体差别。"><a href="#四、请详细说明var，let，const三种声明变量的方式之间的具体差别。" class="header-anchor">#</a> 四、请详细说明var，let，const三种声明变量的方式之间的具体差别。</h3> <p><em><strong>解答如下</strong></em>:</p> <ol><li><p>var：</p> <ul><li>ES6之前声明变量的方式，没有块级作用域的概念，只有全局变量和函数作用域变量。</li> <li>存在变量提升现象。</li> <li>可以先使用后声明,此时在赋值位置之前使用会返回undefined。</li> <li>同一个变量可以重复使用var关键词进行定义。</li></ul></li> <li><p>let:</p> <ul><li>ES6新增的声明块级作用域变量的方式，定义let变量的区域（{}范围）形成块级作用域，该变量仅在此作用域内有效。</li> <li>let不存在变量提升现象</li> <li>在块级作用域内部，直到声明语句之前，形成变量的暂时性死区，此时不能访问该变量。</li> <li>let定义的变量必须要先声明然后再使用。</li> <li>同个作用域里，使用let不能重复声明变量</li></ul></li> <li><p>const：</p> <ul><li>const类似于let，是声明常量使用的,</li> <li>声明变量必须赋初始值，且之后不能再被更改。</li> <li>声明一个引用类型数据的常量，可以修改这个常量上的属性。只是不能修改常量本身的值（引用地址）</li></ul></li></ol> <h3 id="五、请说出下列代码最终输出的结果，并解释为什么。"><a href="#五、请说出下列代码最终输出的结果，并解释为什么。" class="header-anchor">#</a> 五、请说出下列代码最终输出的结果，并解释为什么。</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><em><strong>解答如下</strong></em>:</p> <p>输出：20，当执行<code>obj.fn()</code>,因为fn函数是一个普通函数，由obj对象调用。因此，此时fn函数的执行上下文（this）指向obj对象。fn执行过程中，设置了一个定时器，该定时器定义了一个回调函数，这个回调函数是个箭头函数，没有自己的this，因此this指向声明时所处环境的this。也就是fn函数的this。综上，定时器内部回调函数的this在fn执行的时候指向obj，因此，this.a也就是obj.a。输出20。</p> <h3 id="六、简述symbol类型的用途。"><a href="#六、简述symbol类型的用途。" class="header-anchor">#</a> 六、简述Symbol类型的用途。</h3> <p><em><strong>解答如下</strong></em>:</p> <p>在ES5中，对象属性名都是字符串容易造成属性名冲突。为了避免这种情况的发生，ES6引入了一种新的原始数据类型Symbol，表示独一无二的值。</p> <p>因而，利用这个特性，对以下场景可使用Symbol：</p> <ol><li>不需要对外操作和访问的属性使用Symbol来定义。</li> <li>使用Symbol来替代常量。</li> <li>使用Symbol定义类的私有属性/方法，使得实例上访问不到symbol属性。</li> <li>注册和获取全局Symbol，Symbol不光在单个window中是唯一的，在多个相关window间也是唯一的。</li> <li>iterator迭代器使用Symbol定义</li></ol> <h3 id="七、说说什么是浅拷贝，什么是深拷贝？"><a href="#七、说说什么是浅拷贝，什么是深拷贝？" class="header-anchor">#</a> 七、说说什么是浅拷贝，什么是深拷贝？</h3> <p><em><strong>解答如下</strong></em>:</p> <p>浅拷贝（shallowCopy）和 深拷贝（deepCopy），最根本的区别在于是否真正获取一个对象的复制实体，而不是引用</p> <p>浅拷贝，是字面量的复制，复制的仅仅是引用对象所在的内存地址，浅拷贝只是增加了一个指针指向已存在的内存地址，因此，效果上还是指向同一个对象，对原有变量更改的时候，会影响现有对象的值。</p> <p>深拷贝，就是为了解决引用对象复制问题的。在复制引用对象的时候，创建新的内存空间，拷贝对象的具体内容，将原有对象的属性遍历复制到新的对象上。复制的结果是一个新的对象，变量所存放的该引用对象的地址也是全新的。其内容地址是自助分配的,拷贝结束之后,内存中的值是完全相同的,但是内存地址是不一样的,两个对象之间相互不影响,也互不干涉。</p> <p>浅拷贝的方法：遍历对象属性赋值，Object.assign()，展开运算符...</p> <p>深拷贝的方法：浅拷贝+递归，JSON.parse(JSON.stringify(obj))，lodash方法。</p> <p>JSON.parse(JSON.stringify())这个方法有一定的局限性，序列化时遇到如下情况需要注意：</p> <ul><li>时间对象 =&gt; 字符串的形式</li> <li>RegExp,Error =&gt; {}</li> <li>会丢失 function,undefined</li> <li>NaN,Infinity,-Infinity =&gt; null</li> <li>如果对象中存在循环引用的情况也无法实现深拷贝</li></ul> <h3 id="八、请简述typescript与javascript之间的关系。"><a href="#八、请简述typescript与javascript之间的关系。" class="header-anchor">#</a> 八、请简述TypeScript与JavaScript之间的关系。</h3> <p><em><strong>解答如下</strong></em>:</p> <p>简而言之，TypeScript是JavaScript的超集。</p> <p>在实现了原有JavaScript所有API的基础上，扩展了类型系统。</p> <p>JavaScript是一门动态类型弱类型的语言。在执行的时候才会确定变量的类型。无需编译，直接能在浏览器引擎和node环境中直接运行。</p> <p>TypeScript是一门静态类型强类型的语言。方便了静态检查。需要编译为js后才能运行。</p> <h3 id="九、请谈谈你所认为的typescript优缺点。"><a href="#九、请谈谈你所认为的typescript优缺点。" class="header-anchor">#</a> 九、请谈谈你所认为的TypeScript优缺点。</h3> <p><em><strong>解答如下</strong></em>:</p> <p>TypeScript优点：</p> <ol><li>使用 TS 新特性开发项目，项目代码的健壮性增强，代码错误更早暴露。</li> <li>编辑器支持情况良好，比如：VSCode，有很多智能提示，编码更准确，提升开发效率。</li> <li>使用 TS 的强类型特性来开发项目，可以使得项目代码重构更牢靠。</li> <li>使用 TS 的强类型特性来编写代码，可以减少很多不必要的类型判断。</li> <li>TS 最终会被编译为 JS 运行，可以将 ES6+ 编译为ES5/ES3，兼容性好。</li> <li>TS 是渐进式的，完全可以使用 JS 编写代码，可以将新特性慢慢应用到项目中。</li></ol> <p>TypeScript缺点：</p> <ol><li>引入了很多概念和新语法，有一定学习成本。</li> <li>在项目较小，不需要以后的维护，并且没有多人协同开发的情况下，不够灵活，需要额外编写声明文件，做出类型限制。增加了额外的工作量。</li> <li>网上资料相对js来说要少，查找一些开发问题的解决办法较为困难。</li></ol> <h3 id="十、描述引用计数的工作原理和优缺点。"><a href="#十、描述引用计数的工作原理和优缺点。" class="header-anchor">#</a> 十、描述引用计数的工作原理和优缺点。</h3> <p><em><strong>解答如下</strong></em>:</p> <p><strong>工作原理</strong>：</p> <p>核心思想是在内部通过一个<code>引用计数器</code>来维护一个当前对象的引用数。通过设置引用数，判断当前引用数是否为0，引用关系改变的时候会修改引用数字，引用数字变为0立即回收。</p> <p><strong>优点</strong>：</p> <ol><li>发现垃圾的时候可以及时回收垃圾对象。</li> <li>最大限度减少程序暂停。时刻监控引用为0的对象，会立即释放，不会使程序达到内存上限。</li></ol> <p><strong>缺点</strong>：</p> <ol><li>无法回收循环引用对象</li> <li>时间开销大，当前引用计数器维护一个数值变化，时刻监控是否需要修改，会有额外开销。</li></ol> <h3 id="十一、描述标记整理算法的工作流程。"><a href="#十一、描述标记整理算法的工作流程。" class="header-anchor">#</a> 十一、描述标记整理算法的工作流程。</h3> <p><em><strong>解答如下</strong></em>:</p> <p>标记整理可以看做是标记清除的增强操作。算法不直接对可回收对象进行清理，而是让所有可用的对象都向一端移动。然后直接清理掉边界以外的内存。</p> <p>分为两个阶段，<code>标记阶段</code>和<code>整理清除阶段</code>。</p> <p><strong>标记阶段</strong>：遍历并标记活动对象，将其记录为可达对象。</p> <p><strong>整理清除阶段</strong>: 通过数次搜索堆内存，从头到尾进行线性的遍历，如果发现某个对象没有标记为可达对象，通过读取对象信息，则将对象的地址进行移动，重新装填活动对象，使其在地址上连续，然后再回收。</p> <h3 id="十二、描述v8中新生代存储区垃圾回收的流程。"><a href="#十二、描述v8中新生代存储区垃圾回收的流程。" class="header-anchor">#</a> 十二、描述V8中新生代存储区垃圾回收的流程。</h3> <p><em><strong>解答如下</strong></em>:</p> <p>V8采用分代回收的思想。分为新生代和老生代，分别采用不同的算法。</p> <p>新生代回收过程采用复制算法+标记整理算法，新生代内存区被分为两个等大小的空间，一个是使用空间From，另一个为空闲空间To，活动对象存储于From空间，标记整理后将活动对象<code>拷贝</code>到To，From与To交换空间完成释放，<code>拷贝</code>过程中有可能出现晋升。</p> <p><strong>晋升</strong>: 晋升就是将新生代对象移动至老生代。晋升的触发条件有两条：一轮GC后还存活的新生代活动对象，或者To空间使用率超过25%。</p> <h3 id="十三、描述增量标记算法在何时使用及工作原理。"><a href="#十三、描述增量标记算法在何时使用及工作原理。" class="header-anchor">#</a> 十三、描述增量标记算法在何时使用及工作原理。</h3> <p><em><strong>解答如下</strong></em>:</p> <p><strong>使用时机</strong>：老生代的对象回收时候，为了对效率进行优化(对比新生代区域的复制算法来说)，会采用增量标记算法。</p> <p><strong>工作原理</strong>: 垃圾回收的时候，实际上是会阻塞js主线程的执行，为了减缓这种阻塞的感觉，将遍历对象进行标记的<code>标记</code>这个操作，拆分为多个阶段，微观上使标记与程序主线程交替进行执行，宏观上就是并发执行，使程序主线程运行更流畅。过程如图所示：</p> <p><img src="/bookmarks/assets/img/gc.cf1dcc94.jpg" alt=""></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/baizixv/bookmarks/edit/master/docs/interviews/homework1-2.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/14/2020, 9:51:19 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bookmarks/interviews/homework1-1-2.html" class="prev">
        作业：1-1，手写Promise源码
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bookmarks/assets/js/app.42590932.js" defer></script><script src="/bookmarks/assets/js/2.4e2da616.js" defer></script><script src="/bookmarks/assets/js/8.620124d2.js" defer></script>
  </body>
</html>
